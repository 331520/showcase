<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:showcase="http://primefaces.org/ui/extensions/showcase">
<ui:composition template="/templates/showcaseLayout.xhtml">
    <ui:define name="centerContent">
        <f:facet name="header">
            <h:outputText value="AjaxStatus"/>
        </f:facet>
        <h:panelGroup layout="block" styleClass="centerContent">
            Programmatic Ajax Status is specified via attributes onprestart, onstart, oncomplete, onsuccess, onerror.
            Client side callback defined by this attributes get executed for specified ajax states.
            In this example the cursor is set to "wait" when an ajax request is running. It's how desktop applications behaves.
        </h:panelGroup>

        <h:panelGroup layout="block" styleClass="centerExample">
            <h:panelGrid columns="2">
                <h:panelGrid columns="1" cellpadding="0" cellspacing="0">
                    <h:outputText value="JSF standard f:ajax with PrimeFaces p:inputTextarea"/>
                    <p:inputTextarea id="textArea" valueChangeListener="#{ajaxStatusController.textChanged}"
                                     value="#{ajaxStatusController.text}" style="width:300px; height:100px; margin-top:10px;">
                        <f:ajax event="keydown" execute="textArea"/>
                    </p:inputTextarea>
                </h:panelGrid>
            
                <h:panelGrid id="ajaxIndicatorTable" columns="2" columnClasses="column" cellpadding="0" cellspacing="0">
                    <h:outputText value="Ajax indicator" styleClass="header"/>
                    <h:panelGroup>
                        <pe:ajaxStatus onstart="ajaxOnStartIndicator()" onerror="ajaxOnErrorIndicator()"
                                       onsuccess="ajaxOnSuccessIndicator()"/>
                        <h:graphicImage id="ajaxIndicatorActive" library="images"
                                        name="connect_active.gif" style="display: none;" styleClass="ajaxIndicator"/>
                        <h:graphicImage id="ajaxIndicatorCaution" library="images"
                                        name="connect_caution.gif" style="display: none;" styleClass="ajaxIndicator"
                                        title="Connection problem" alt="Connection problem"/>
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGrid>
        </h:panelGroup>

        <ui:decorate template="/templates/threeTabsDecoratorJS.html">
            <ui:define name="contentTab1">
${showcase:getFileContent('/sections/ajaxstatus/example-programmaticAjaxStatus.xhtml')}
            </ui:define>
            <ui:define name="contentTab2">
${showcase:getFileContent('/org/primefaces/extensions/showcase/controller/AjaxStatusController.java')}
            </ui:define>
            <ui:define name="contentTab3">
${showcase:getFileContent('/resources/js/ajax.js')}
            </ui:define>            
        </ui:decorate>
    </ui:define>
    <ui:define name="useCases">
        <ui:include src="/sections/ajaxstatus/useCasesChoice.xhtml"/>
    </ui:define>
    <ui:define name="docuTable">
        <ui:include src="/sections/shared/documentation.xhtml">
            <ui:param name="tagName" value="ajaxStatus"/>
        </ui:include>
    </ui:define>
</ui:composition>
</html>
